---
const pathname = Astro.url.pathname;
const links = [
  { href: '/', label: 'Accueil' },
  { href: '/prestations', label: 'Prestations' },
  { href: '/formations', label: 'Formations' },
  { href: '/contact', label: 'Contact' },
];
const isActive = (href) => (href === '/' ? pathname === '/' : pathname.startsWith(href));
---
<header class="fixed left-0 right-0 top-0 z-50 border-b border-sand/40 bg-ivory/90 backdrop-blur-md">
  <div class="container-shell flex h-20 items-center justify-between gap-6">
    <a href="/" class="flex items-center gap-3">
      <img src="/logo.png" alt="ELINA B - Esthétique & formations" class="h-10 w-auto sm:h-12" />
      <span class="hidden text-[0.62rem] font-medium uppercase tracking-[0.24em] text-cocoa/80 lg:inline">
        ELINA B - Esthétique & formations
      </span>
    </a>
    <nav class="hidden items-center gap-8 text-[0.7rem] font-semibold uppercase tracking-[0.2em] md:flex">
      {links.map((link) => (
        <a
          href={link.href}
          class:list={[
            'relative pb-1 transition-colors duration-200',
            isActive(link.href) ? 'text-ink' : 'text-cocoa/70 hover:text-ink',
          ]}
        >
          {link.label}
          <span
            class:list={[
              'absolute -bottom-1 left-0 h-px w-full bg-gold transition-opacity duration-200',
              isActive(link.href) ? 'opacity-100' : 'opacity-0',
            ]}
          ></span>
        </a>
      ))}
    </nav>
    <div class="flex items-center gap-3">
      <a
        href="/contact"
        class="hidden rounded-full border border-ink bg-ink px-5 py-2 text-[0.65rem] font-semibold uppercase tracking-[0.22em] text-ivory transition duration-200 hover:-translate-y-0.5 hover:bg-ink/90 md:inline-flex"
      >
        Réserver
      </a>
      <details class="relative md:hidden">
        <summary
          class="list-none inline-flex h-10 w-10 items-center justify-center rounded-full border border-ink/20 bg-white text-ink"
          aria-label="Ouvrir le menu"
        >
          <svg viewBox="0 0 24 24" class="h-5 w-5" fill="none" stroke="currentColor" stroke-width="1.5">
            <path stroke-linecap="round" stroke-linejoin="round" d="M4 7h16M4 12h16M4 17h16" />
          </svg>
        </summary>
        <div class="absolute right-0 mt-3 w-64 rounded-2xl border border-sand/60 bg-ivory p-4 shadow-lift">
          <p class="mb-3 border-b border-sand/50 pb-2 text-[0.62rem] font-semibold uppercase tracking-[0.2em] text-cocoa/70">
            ELINA B - Esthétique & formations
          </p>
          <nav class="flex flex-col gap-3 text-[0.68rem] font-semibold uppercase tracking-[0.2em]">
            {links.map((link) => (
              <a
                href={link.href}
                class:list={[isActive(link.href) ? 'text-ink' : 'text-cocoa/70 hover:text-ink']}
              >
                {link.label}
              </a>
            ))}
          </nav>
        </div>
      </details>
    </div>
  </div>
</header>
